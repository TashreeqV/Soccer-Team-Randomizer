<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teamify</title>
  <link rel="icon" type="image/png" href="./Pictures/main.png">
  <!-- Permanent Marker font -->
  <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: url("./Pictures/maybepic.jpg") no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      padding: 0;
      color: white;
    }

    /* New banner */
    .banner {
      display: flex;
      align-items: center;
      padding: 20px 40px;
      background: rgba(0, 0, 0, 0.7);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
    }

    .banner .logo img {
      width: 100px;
      height: auto;
    }

    .banner h1 {
      font-family: 'Permanent Marker', cursive;
      font-size: 3rem;
      letter-spacing: 2px;
      text-shadow: 3px 3px 6px rgba(0,0,0,0.8);
      color: #ffcc00;
      margin-left: 20px;
    }

    .banner h1 span {
      color: #ffffff;
    }

    .main-layout {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 20px;
      margin-top: 20px;
    }

    .team-table {
      background: rgba(0,0,0,0.6);
      padding: 15px;
      border-radius: 8px;
      min-width: 350px;
      text-align: center;
    }
    .team-table table {
      width: 100%;
      border-collapse: collapse;
      color: white;
    }
    .team-table th, .team-table td {
      padding: 6px;
      border: 1px solid #444;
      text-align: center;
    }
    .team-table th {
      background: rgba(255,255,255,0.15);
    }
    .dark-row th {
      background: rgba(255,255,255,0.3);
    }

    .field-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .field-container {
      position: relative;
      width: 500px;
    }
    .field-container img {
      width: 100%;
      border: 2px solid #333;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.5);
    }
    .player {
      position: absolute;
      background: rgba(255,255,255,0.85);
      padding: 3px 6px;
      border-radius: 4px;
      font-size: 14px;
      font-weight: bold;
      transform: translate(-50%,-50%);
      white-space: nowrap;
    }
    .team1 { color: rgb(238, 6, 6); }
    .team2 { color: rgb(0, 0, 0); }

    .controls-panel {
      background: rgba(0,0,0,0.6);
      padding: 15px;
      border-radius: 8px;
      min-width: 220px;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      gap: 10px;
    }
    .controls-panel input,
    .controls-panel button {
      padding: 10px;
      font-size: 16px;
      border-radius: 6px;
      border: none;
      outline: none;
      cursor: pointer;
    }
    .controls-panel .add-btn {
      background-color: #4caf50;
      color: white;
      font-weight: bold;
    }
    .controls-panel .random-btn {
      background-color: #2196f3;
      color: white;
      font-weight: bold;
    }

    .formation-panel {
      background: rgba(0,0,0,0.6);
      padding: 15px;
      border-radius: 8px;
      min-width: 180px;
      text-align: center;
    }
    .formation-btn {
      background-color: #ff9800;
      color: white;
      display: block;
      width: 100%;
      margin: 8px 0;
      padding: 10px;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
    }
      @media (max-width: 768px) {
  .main-layout {
    flex-direction: column;
    align-items: center;
    gap: 15px;
    margin-top: 10px;
    padding: 0 10px;
  }

  .logo-section img {
    width: 120px;
  }

  h1 {
    font-size: 2.2rem;
    margin-top: 70px;
  }

  .team-table, .controls-panel, .formation-panel {
    min-width: unset;
    width: 100%;
    max-width: 500px;
  }

  .field-container {
    width: 100%;
    max-width: 500px;
  }

  .controls-panel input,
  .controls-panel button {
    font-size: 14px;
    padding: 8px;
  }

  .formation-btn {
    font-size: 14px;
    padding: 8px;
  }
}
  </style>
</head>
<body>

  <!-- Banner section -->
  <div class="banner">
    <div class="logo">
      <img src="./Pictures/main.png" alt="Teamify Logo" />
    </div>
    <h1><span>Teamify</span></h1>
  </div>

  <div class="main-layout">
    <div class="team-table">
      <h3>Players & Teams</h3>
      <table>
        <tr class="dark-row"><th>#</th><th>Selected Players</th></tr>
        <tbody id="selectedList"><tr><td>-</td><td>-</td></tr></tbody>

        <tr class="dark-row"><th>#</th><th>Team 1</th></tr>
        <tbody id="team1list"><tr><td>-</td><td>-</td></tr></tbody>

        <tr class="dark-row"><th>#</th><th>Team 1 Subs</th></tr>
        <tbody id="team1subs"><tr><td>-</td><td>-</td></tr></tbody>

        <tr class="dark-row"><th>#</th><th>Team 2</th></tr>
        <tbody id="team2list"><tr><td>-</td><td>-</td></tr></tbody>

        <tr class="dark-row"><th>#</th><th>Team 2 Subs</th></tr>
        <tbody id="team2subs"><tr><td>-</td><td>-</td></tr></tbody>
      </table>
    </div>

    <div class="field-wrapper">
      <div class="field-container">
        <img src="./Pictures/fives.png" alt="Soccer Field" />
        <div id="teamOverlay"></div>
      </div>
    </div>

    <div>
      <div class="controls-panel">
        <input type="text" id="playerInput" placeholder="Enter player name" 
          onkeypress="if(event.key === 'Enter'){ addPlayer(); }" />
        <button class="add-btn" onclick="addPlayer()">Add Player</button>
        <button class="random-btn" onclick="randomizeTeams()">Randomize Teams</button>
      </div>

      <div class="formation-panel">
        <h3>Team 1 Formation</h3>
        <button class="formation-btn" onclick="setFormation('22', 1)">2-2</button>
        <button class="formation-btn" onclick="setFormation('31', 1)">3-1</button>
        <button class="formation-btn" onclick="setFormation('13', 1)">1-3</button>
        <button class="formation-btn" onclick="setFormation('diamond', 1)">Diamond</button>

        <h3>Team 2 Formation</h3>
        <button class="formation-btn" onclick="setFormation('22', 2)">2-2</button>
        <button class="formation-btn" onclick="setFormation('31', 2)">3-1</button>
        <button class="formation-btn" onclick="setFormation('13', 2)">1-3</button>
        <button class="formation-btn" onclick="setFormation('diamond', 2)">Diamond</button>
      </div>
    </div>
  </div>

<script>
  let selectedPlayers = [];
  let team1 = [], team2 = [], team1Subs = [], team2Subs = [];
  let currentFormations = {1: "22", 2: "22"};

  function renderList(id, players) {
    const container = document.getElementById(id);
    container.innerHTML = "";
    if (!players.length) {
      container.innerHTML = "<tr><td>-</td><td>-</td></tr>";
      return;
    }
    players.forEach((p, i) => {
      let row = document.createElement("tr");
      let numCell = document.createElement("td");
      let nameCell = document.createElement("td");
      numCell.textContent = i+1;
      nameCell.textContent = p;
      row.appendChild(numCell);
      row.appendChild(nameCell);
      container.appendChild(row);
    });
  }

  function addPlayer() {
    const input = document.getElementById("playerInput");
    const playerName = input.value.trim();
    if (playerName && !selectedPlayers.includes(playerName) && !team1.includes(playerName) && !team2.includes(playerName) && !team1Subs.includes(playerName) && !team2Subs.includes(playerName)) {
      selectedPlayers.push(playerName);
      renderList("selectedList", selectedPlayers);
      input.value = ""; 
    }
  }

  function randomizeTeams() {
    let allPlayers = [...selectedPlayers, ...team1, ...team2, ...team1Subs, ...team2Subs];
    if (allPlayers.length < 2) {
      alert("Not enough players!");
      return;
    }

    let shuffled = [...allPlayers].sort(() => Math.random() - 0.5);

    team1 = shuffled.slice(0, 5);
    team2 = shuffled.slice(5, 10);
    let extras = shuffled.slice(10);

    team1Subs = extras.filter((_, i) => i % 2 === 0);
    team2Subs = extras.filter((_, i) => i % 2 === 1);

    renderList("team1list", team1);
    renderList("team2list", team2);
    renderList("team1subs", team1Subs);
    renderList("team2subs", team2Subs);

    selectedPlayers = [];
    renderList("selectedList", []);

    placePlayersOnField(team1, 1, currentFormations[1]);
    placePlayersOnField(team2, 2, currentFormations[2]);
  }

  function placePlayersOnField(teamPlayers, team, formation) {
  const overlay = document.getElementById("teamOverlay");
  [...overlay.querySelectorAll(`.team${team}`)].forEach(el => el.remove());

  if (!teamPlayers.length) return;

  const formations = {
    "22": team === 1
      ? [[50, 12], [25, 30], [75, 30], [35, 45], [65, 45]]
      : [[50, 82], [25, 68], [75, 68], [35, 56], [65, 56]],
    "31": team === 1
      ? [[50, 12], [20, 30], [50, 30], [80, 30], [50, 45]]
      : [[50, 82], [20, 68], [50, 68], [80, 68], [50, 56]],
    "13": team === 1
      ? [[50, 12], [50, 30], [25, 45], [75, 45], [50, 45]]
      : [[50, 82], [50, 68], [25, 56], [75, 56], [50, 52]],
    "diamond": team === 1
      ? [[50, 12], [30, 30], [70, 30], [50, 40], [50, 45]]
      : [[50, 82], [30, 68], [70, 68], [50, 58], [50, 52]],
  };

  let positions = formations[formation];
  teamPlayers.forEach((player, i) => {
    if (positions[i]) {
      let div = document.createElement("div");
      div.className = "player team" + team;
      div.style.left = positions[i][0] + "%";
      div.style.top = positions[i][1] + "%";
      div.innerText = player;
      overlay.appendChild(div);
    }
  });
}
  function setFormation(type, team) {
    currentFormations[team] = type;
    placePlayersOnField(team === 1 ? team1 : team2, team, type);
  }
</script>
</body>
</html>
